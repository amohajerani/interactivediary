{% extends "base.html" %}
{% block title %}Past entries{% endblock %}
{% block content %}
<div class="content">
  <div>
    <div>
      <div>
        <img src="data:image/png;base64,{{ wordcloud|b64encode }}" alt="Word cloud" style="margin-bottom: 10px;">
        <div>
        <h4>In-progress entries</h4>
        {% if in_progress_entries %}
        <ul>
          {% for entry in in_progress_entries %}
          <li>
            <a href="/chat/{{entry['_id']}}">{{entry['title']}}</a>
            <i class="delete-icon" onclick="deleteItem(this, '{{ entry._id }}')">🗑️</i>
          </li>
          {% endfor %}
        </ul>
        {% else %}
        <p>No entries in progress.</p>
        <button class="btn btn-primary" onclick="location.href='/chat'">Create your new entry</button>
        {% endif %}
        </div>
        <div>
          <h4>Completed entries</h4>
          {% if completed_entries %}
          <ul>
            {% for entry in completed_entries %}
            <li>
              <a href="/past_entries/{{entry['_id']}}">{{entry['title']}}</a>
              <i class="delete-icon" onclick="deleteItem(this, '{{ entry._id }}')">🗑️</i>
            </li>
            {% endfor %}
          </ul>
          {% else %}
          <p>No completed entries.</p>
          {% endif %}
          </div>
      </div>
    </div>
  </div>
</div>
<script src="{{ url_for('static', filename='home.js') }}"></script>
{% endblock %}
